version: "3.8"
services:
  question-service:
    build: ./question-service
    ports:
      - "5052:5052"
    environment:
      - MONGODB_CONNECTION=your_connection_string
      - JWT_SECRET=your_secret

  collaboration-service:
    build: ./collaboration-service
    ports:
      - "5051:5051"
    environment:
      - MONGODB_CONNECTION=your_connection_string
      - JWT_SECRET=your_secret
      - USER_SERVICE_URL=http://user-service:5050
      - QUESTION_SERVICE_URL=http://question-service:5052
      - ATTEMPT_SERVICE_URL=http://attempt-service:5053
    depends_on:
      - question-service

  attempt-service:
    build: ./attempt-service
    ports:
      - "5053:5053"
    environment:
      - MONGODB_CONNECTION=your_connection_string
      - JWT_SECRET=your_secret
      - USER_SERVICE_URL=http://user-service:5050
      - QUESTION_SERVICE_URL=http://question-service:5052
      - COLLABORATION_SERVICE_URL=http://collaboration-service:5051
    depends_on:
      - collaboration-service